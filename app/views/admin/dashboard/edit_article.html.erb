<h1>Modifier l'Article</h1>

<%= form_with model: @article, url: admin_article_path(@article), local: true, method: :patch do |form| %>
  <div class="form-group">
    <%= form.label :title, "Titre", class: "form-label" %>
    <%= form.text_field :title, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :content, "Contenu", class: "form-label" %>
    <%= form.text_area :content, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.label :image, "Image", class: "form-label" %>
    <%= form.file_field :image, class: "form-control" %>
    <% if @article.image.attached? %>
      <p>Image actuelle :</p>
      <%= image_tag @article.image.variant(resize_to_limit: [200, 200]), class: "img-thumbnail" %>
    <% end %>
  </div>

  <div class="form-group">
    <%= form.label :tag_ids, "Tags associés", class: "form-label" %>
    <%= form.collection_check_boxes :tag_ids, Tag.all, :id, :name, { multiple: true }, { class: "form-check-input" } %>
  </div>

  <%= form.submit "Mettre à jour l'article", class: "btn btn-success" %>
<% end %>
